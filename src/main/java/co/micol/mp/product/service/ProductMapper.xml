<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.micol.mp.product.service.ProductMapper">
	<select id="productList" 
		resultType="co.micol.mp.product.service.ProductVO">
		SELECT * FROM product	
	</select>
	
	<select id ="productCateList"
		resultType="co.micol.mp.product.service.ProductVO">
		SELECT * 
		FROM PRODUCT
		WHERE PRODUCT_CATEGORY = #{productCategory}
	
	</select>
	
	<select id ="productSerch"
		resultType="co.micol.mp.product.service.ProductVO">
		SELECT * 
		FROM PRODUCT
		WHERE PRODUCT_CATEGORY = #{productCategory} AND product_name LIKE '%' || #{Search} || '%'
	
	</select>
	
	<insert id = "productInsert">
		INSERT INTO PRODUCT VALUES(#{productId},#{productName},#{productPrice},
		#{productImg},#{productDir},#{productText},0,SYSDATE,#{productAmount},#{productCategory})
	</insert>
	
	<select id="product"
		resultType="co.micol.mp.product.service.ProductVO">

		SELECT * 
		FROM PRODUCT 
		WHERE PRODUCT_ID = #{productId}
	</select>
	
	<select id="productRecentList"
		resultType="co.micol.mp.product.service.ProductVO">
		SELECT *  
		FROM (SELECT * FROM PRODUCT ORDER BY PRODUCT_DATE DESC)
		WHERE ROWNUM <![CDATA[<=]]> 8

	</select>
	
	<delete id="productDelete">
		DELETE 
		FROM PRODUCT
		WHERE PRODUCT_ID = #{productId}
	</delete>
</mapper>